<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="Test webcam and microphone on your browser">
    <base target="_blank">
    <title>Webcam and Mic Test</title>
    <link rel="icon" sizes="48x48" href="./img/favicon.ico">
    <link href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet" type="text/css">
    <!-- <link rel="stylesheet" href="./css/reading.css"> -->
    <link rel="stylesheet" href="./css/webcam.css">
  </head>
  <body>
    <div id="container">
        <video id="gum-video" playsinline style="width: 65%"></video>
        <audio id="gum-audio"></audio>
        <a id="button" class="btn-learnmore-orange" onclick="toggleTest()">Start Test</a>
        <p style="font-size: 150%; padding-top: 3%; font-weight: bold; color: red; display: none;" id="errorMsg"></p>
    </div>
    <script src="./js/adapter-latest.js"></script>
    <script src="./js/video.js"></script>
    <script src="./js/audio.js"></script>
    <script type="text/javascript">
      function toggleTest() {
        var but = document.getElementById("button");
        var vid = document.getElementById("gum-video");
        var aud = document.getElementById("gum-audio");

        if (but.innerHTML == "Start Test") {
          but.innerHTML = "Stop Test";
          vid.play();
          aud.play();
        } else {
          but.innerHTML = "Start Test";
          vid.pause();
          aud.pause();
        }
      }
    </script>
    <script>
      // Get the modal
      var modal = document.getElementById('myModal');

      // Get the button that opens the modal
      var btn = document.getElementById("help-button");

      // Get the <span> element that closes the modal
      var span = document.getElementsByClassName("close")[0];

      // When the user clicks the button, open the modal
      btn.onclick = function() {
          modal.style.display = "block";
      }

      // When the user clicks on <span> (x), close the modal
      span.onclick = function() {
          modal.style.display = "none";
      }

      // When the user clicks anywhere outside of the modal, close it
      window.onclick = function(event) {
          if (event.target == modal) {
              modal.style.display = "none";
          }
      }
    </script>
  </body>
</html>
